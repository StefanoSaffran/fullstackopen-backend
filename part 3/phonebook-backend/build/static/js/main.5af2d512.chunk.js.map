{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/personsService.js","App.js","index.js"],"names":["Person","person","deleteContact","name","number","onClick","Persons","personsToShow","rows","map","key","Filter","props","onChange","handleFilter","PersonForm","handleNewName","handleNewNumber","addContact","onSubmit","value","type","Notification","message","classes","className","body","baseUrl","Service","getAll","axios","get","then","res","data","post","updateContact","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","infoMessage","setInfoMessage","useEffect","allContacts","catch","err","console","log","setTimeout","personObject","result","window","confirm","p","returnedPerson","alert","RegExp","test","event","target","preventDefault","some","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5af2d512.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ person, deleteContact }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number} <button onClick={() => deleteContact(person)}>delete</button><br />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Persons = ({ personsToShow, deleteContact }) => {\r\n  const rows = personsToShow.map(person => <Person key={person.name} person={person} deleteContact={deleteContact}/>)\r\n    return (\r\n      <>\r\n        {rows}\r\n      </>\r\n    );\r\n  };\r\n\r\nexport default Persons;\r\n\r\n","import React from 'react';\r\n\r\nconst Filter = props => {\r\n    return (\r\n        <div>\r\n            filter shown with <input onChange={props.handleFilter} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = ({ name, number, handleNewName, handleNewNumber, addContact}) => {\r\n    return (\r\n        <form onSubmit={addContact}>\r\n            <div>\r\n                name: <input value={name} onChange={handleNewName} />\r\n            </div>\r\n            <div>\r\n                number: <input value={number} onChange={handleNewNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" >add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    let classes = '';\r\n    if (message === null) {\r\n        return null\r\n    } else {\r\n        classes = `message ${message.type}`\r\n    }\r\n\r\n    return (\r\n        <div className={classes}>\r\n            {message.body}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst Service = {\r\n\r\n    getAll: () =>\r\n        axios\r\n            .get(baseUrl)\r\n            .then(res => res.data),\r\n\r\n    addContact: person =>\r\n        axios\r\n            .post(baseUrl, person)\r\n            .then(res => res.data),\r\n\r\n    updateContact: (id, person) => \r\n        axios\r\n            .put(`${baseUrl}/${id}`, person)\r\n            .then(res => res.data),\r\n\r\n    deleteContact: id => \r\n        axios\r\n            .delete(`${baseUrl}/${id}`)\r\n\r\n\r\n}\r\nexport default Service;","import React, { useState, useEffect } from 'react'\nimport './App.css';\n\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\nimport Service from './services/personsService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [infoMessage, setInfoMessage] = useState(null);\n\n  useEffect(() => {\n    Service.getAll()\n      .then(allContacts => setPersons(allContacts))\n      .catch(err => console.log(err))\n  }, [])\n\n  useEffect(() => {\n\n    setTimeout(() => {\n      setInfoMessage(null)\n    }, 5000)\n\n  }, [infoMessage])\n\n  const addContact = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    persons.some(p => p.name === newName)\n      ? updateContact(personObject)\n      : Service.addContact(personObject)\n        .then(res => {\n          console.log(res);\n          setPersons(persons.concat(personObject))\n          setInfoMessage(\n            {\n              body: `Added ${personObject.name}`,\n              type: 'info'\n            }\n          )\n        })\n        .catch(err => {\n          setInfoMessage(\n            {\n              body: `Information of '${personObject.name}' has already been removed from server`,\n              type: 'error'\n            }\n          )\n          console.log(err)\n        })\n\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const updateContact = (personObject) => {\n    const result = window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`);\n\n    const id = persons.filter(p => p.name === newName).map(p => p.id);\n\n    result\n      ? Service.updateContact(id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          setInfoMessage(\n            {\n              body: `${personObject.name}'s number was updated`,\n              type: 'info'\n            }\n          )\n        })\n        .catch(err => {\n          setPersons(persons.filter(p => p.id !== personObject.id))\n          setInfoMessage(\n            {\n              body: `An error has ocurred`,\n              type: 'error'\n            }\n          )\n          console.log(err);\n        })\n      : alert(\"The contact was not updated\")\n  }\n\n  const deleteContact = person => {\n    const result = window.confirm(`Delete ${person.name} ?`);\n    console.log(person);\n    result\n      ? Service.deleteContact(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setInfoMessage(\n            {\n              body: `Information of '${person.name}' has been removed from server`,\n              type: 'info'\n            }\n          )\n        })\n        .catch(err => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setInfoMessage(\n            {\n              body: `Information of '${person.name}' has already been removed from server`,\n              type: 'error'\n            }\n          )\n          console.log(err);\n        })\n      : alert(\"The contact was not deleted\")\n\n  }\n\n  const handleNewName = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n\n  }\n\n  const personsToShow = filter\n    ? persons.filter(person => {\n      let regex = new RegExp(filter, \"i\")\n      return regex.test(person.name);\n    })\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={infoMessage} />\n      <Filter handleFilter={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm name={newName} number={newNumber} handleNewName={handleNewName} handleNewNumber={handleNewNumber} addContact={addContact} />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} deleteContact={deleteContact} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}